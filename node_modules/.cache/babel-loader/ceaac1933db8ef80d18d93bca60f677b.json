{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nexport const Products = _ref => {\n  _s();\n\n  let {\n    products,\n    setProducts,\n    numOrder,\n    setNumOrder\n  } = _ref;\n  const accessToken = 'eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJwUGFINU55VXRxTUkzMDZtajd ZVHdHV3JIZE81cWxmaCIsImlhdCI6MTYyMDY2Mjk4NjIwM30.lhfzSXW9_TC67SdDKyD bMOYiYsKuSk6bG6XDE1wz2OL4Tq0Og9NbLMhb0LUtmrgzfWiTrqAFfnPldd8QzWvgVQ';\n  const apiURL = 'https://eshop-deve.herokuapp.com/api/v2/orders'; // useEffect(async () => {\n  //     setProducts(await getProducts())\n  // }, [flag]);\n  // axios.interceptors.request.use(\n  //     config => {\n  //         config.headers.authorization = `Bearer ${accessToken}`;\n  //         return config;\n  //     },\n  //     error => {\n  //         return Promise.reject(error);\n  //     }\n  // );\n\n  const authAxios = axios.create({\n    baseURL: apiURL,\n    headers: {\n      Authorization: `Bearer ${accessToken}`\n    }\n  }); // const getProducts = useCallback(async() => {\n  //     try {\n  //         const request = await authAxios.get(`${apiURL}`)\n  //         // const data = await request\n  //         // const result = data['data']['orders']\n  //         return request['data']['orders'];\n  //     } catch (err) {\n  //         alert('Error')\n  //     }\n  // });\n\n  let a = [];\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const request = await authAxios.get(`${apiURL}`);\n\n        if (request && request['data'] && request['data']['orders']) {\n          let response = request['data']['orders'];\n          setProducts(response);\n          response.map((ele, index) => {\n            a.push(ele);\n          });\n        }\n      } catch (err) {\n        alert('Error el petición de productos');\n      }\n    }\n\n    fetchData();\n  }, []);\n  console.log('a', a);\n};\n\n_s(Products, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"sources":["/Users/azcona/Desktop/payment/src/generalRequest/Products.js"],"names":["React","useState","useEffect","useCallback","axios","Products","products","setProducts","numOrder","setNumOrder","accessToken","apiURL","authAxios","create","baseURL","headers","Authorization","a","fetchData","request","get","response","map","ele","index","push","err","alert","console","log"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,WAArC,QAAwD,OAAxD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,QAAQ,GAAG,QAAsD;AAAA;;AAAA,MAArD;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,WAAZ;AAAyBC,IAAAA,QAAzB;AAAmCC,IAAAA;AAAnC,GAAqD;AAE1E,QAAMC,WAAW,GAAG,mNAApB;AACA,QAAMC,MAAM,GAAG,gDAAf,CAH0E,CAK1E;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,QAAMC,SAAS,GAAGR,KAAK,CAACS,MAAN,CAAa;AAC3BC,IAAAA,OAAO,EAAEH,MADkB;AAE3BI,IAAAA,OAAO,EAAE;AACLC,MAAAA,aAAa,EAAG,UAASN,WAAY;AADhC;AAFkB,GAAb,CAAlB,CAlB0E,CAyB1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAIO,CAAC,GAAG,EAAR;AACAf,EAAAA,SAAS,CAAC,MAAM;AACZ,mBAAegB,SAAf,GAA2B;AACvB,UAAI;AACA,cAAMC,OAAO,GAAG,MAAMP,SAAS,CAACQ,GAAV,CAAe,GAAET,MAAO,EAAxB,CAAtB;;AACA,YAAGQ,OAAO,IAAIA,OAAO,CAAC,MAAD,CAAlB,IAA8BA,OAAO,CAAC,MAAD,CAAP,CAAgB,QAAhB,CAAjC,EAA4D;AACxD,cAAIE,QAAQ,GAAGF,OAAO,CAAC,MAAD,CAAP,CAAgB,QAAhB,CAAf;AACAZ,UAAAA,WAAW,CAACc,QAAD,CAAX;AAEAA,UAAAA,QAAQ,CAACC,GAAT,CAAa,CAACC,GAAD,EAAMC,KAAN,KAAgB;AACzBP,YAAAA,CAAC,CAACQ,IAAF,CAAOF,GAAP;AACH,WAFD;AAGH;AACJ,OAVD,CAUE,OAAOG,GAAP,EAAY;AACVC,QAAAA,KAAK,CAAC,gCAAD,CAAL;AACH;AACJ;;AACDT,IAAAA,SAAS;AACZ,GAjBQ,EAiBN,EAjBM,CAAT;AAmBAU,EAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBZ,CAAjB;AACH,CAzDM;;GAAMZ,Q;;KAAAA,Q","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\n\nexport const Products = ({ products, setProducts, numOrder, setNumOrder }) => {\n\n    const accessToken = 'eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJwUGFINU55VXRxTUkzMDZtajd ZVHdHV3JIZE81cWxmaCIsImlhdCI6MTYyMDY2Mjk4NjIwM30.lhfzSXW9_TC67SdDKyD bMOYiYsKuSk6bG6XDE1wz2OL4Tq0Og9NbLMhb0LUtmrgzfWiTrqAFfnPldd8QzWvgVQ';\n    const apiURL = 'https://eshop-deve.herokuapp.com/api/v2/orders';\n\n    // useEffect(async () => {\n    //     setProducts(await getProducts())\n    // }, [flag]);\n\n    // axios.interceptors.request.use(\n    //     config => {\n    //         config.headers.authorization = `Bearer ${accessToken}`;\n    //         return config;\n    //     },\n    //     error => {\n    //         return Promise.reject(error);\n    //     }\n    // );\n    const authAxios = axios.create({\n        baseURL: apiURL,\n        headers: {\n            Authorization: `Bearer ${accessToken}`\n        }\n    })\n\n    // const getProducts = useCallback(async() => {\n    //     try {\n    //         const request = await authAxios.get(`${apiURL}`)\n    //         // const data = await request\n    //         // const result = data['data']['orders']\n    //         return request['data']['orders'];\n    //     } catch (err) {\n    //         alert('Error')\n    //     }\n    // });\n\n    let a = []\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                const request = await authAxios.get(`${apiURL}`)\n                if(request && request['data'] && request['data']['orders']) {\n                    let response = request['data']['orders']\n                    setProducts(response)\n\n                    response.map((ele, index) => {\n                        a.push(ele)\n                    })\n                }\n            } catch (err) {\n                alert('Error el petición de productos')\n            }\n        }\n        fetchData();\n    }, []);\n\n    console.log('a', a)\n}\n"]},"metadata":{},"sourceType":"module"}