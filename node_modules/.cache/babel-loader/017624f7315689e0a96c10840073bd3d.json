{"ast":null,"code":"var _jsxFileName = \"/Users/azcona/Desktop/payment/src/components/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { styled } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport Paper from '@mui/material/Paper';\nimport Grid from '@mui/material/Grid';\nimport TablePay from './TablePayment';\nimport FormPayProducts from './FormPay';\nimport { Products } from '../generalRequest/Products';\nimport axios from 'axios';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport Alert from '@mui/material/Alert';\nimport Stack from '@mui/material/Stack';\nimport Button from '@mui/material/Button';\nimport PaidIcon from '@mui/icons-material/Paid';\nimport Snackbar from '@mui/material/Snackbar';\nimport Container from '@mui/material/Container';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Item = styled(Paper)(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    backgroundColor: theme.palette.mode === 'dark' ? '#1A2027' : '#fff',\n    ...theme.typography.body2,\n    padding: theme.spacing(1),\n    textAlign: 'center',\n    color: theme.palette.text.secondary\n  };\n});\n_c = Item;\nconst Div = styled('div')(_ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return { ...theme.typography.button,\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(1)\n  };\n});\n_c2 = Div;\nexport default function AutoGrid() {\n  _s();\n\n  const [datos, setDatos] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [numOrder, setNumOrder] = React.useState([]);\n  const [orders, setOrders] = React.useState([]);\n  const [flag, setFlag] = useState(false);\n  const [open, setOpen] = React.useState(false);\n  const [alertMessage, setAlertMessage] = useState('');\n  const [tipoAlert, setTipoAlert] = useState('');\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const handleChangeOrder = event => {\n    setNumOrder(event.target.value);\n    let orderFilter = products.filter(producto => producto.number == event.target.value)[0];\n    setDatos(orderFilter.items);\n  };\n\n  const handleMessagePay = event => {\n    setAlertMessage('Pago realizado correctamente');\n    setTipoAlert('success');\n    setOpen(true);\n  };\n\n  const accessToken = 'eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJwUGFINU55VXRxTUkzMDZtajd ZVHdHV3JIZE81cWxmaCIsImlhdCI6MTYyMDY2Mjk4NjIwM30.lhfzSXW9_TC67SdDKyD bMOYiYsKuSk6bG6XDE1wz2OL4Tq0Og9NbLMhb0LUtmrgzfWiTrqAFfnPldd8QzWvgVQ';\n  const apiURL = 'https://eshop-deve.herokuapp.com/api/v2/orders';\n  const authAxios = axios.create({\n    baseURL: apiURL,\n    headers: {\n      Authorization: `Bearer ${accessToken}`\n    }\n  });\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const request = await authAxios.get(`${apiURL}`);\n\n        if (request && request['data'] && request['data']['orders']) {\n          let response = request['data']['orders'];\n          setProducts(response);\n\n          if (!flag) {\n            let items = [];\n            let ordenes = [];\n            response.map(ele => {\n              items.push(ele.items);\n              ordenes.push(ele.number);\n            });\n            let objs = [];\n            items.forEach(element => {\n              element.forEach(element2 => {\n                objs.push(element2);\n              });\n            });\n            setDatos(objs);\n            setOrders(ordenes);\n            setFlag(true);\n          }\n        }\n      } catch (err) {\n        console.log('err', err);\n      }\n    }\n\n    fetchData();\n  }, []);\n  return (\n    /*#__PURE__*/\n    // style={{ background: '#000000' }}\n    _jsxDEV(Container, {\n      maxWidth: \"xl\",\n      style: {\n        background: '#000000'\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1\n        },\n        m: 5,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Item, {\n              children: [/*#__PURE__*/_jsxDEV(Div, {\n                children: \"Agregar producto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(FormPayProducts, {\n                datos: datos,\n                setDatos: setDatos\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 2,\n            children: /*#__PURE__*/_jsxDEV(Item, {\n              style: {\n                textAlign: 'left'\n              },\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  id: \"demo-simple-select-label\",\n                  children: \"# Orden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  labelId: \"demo-simple-select-label\",\n                  id: \"demo-simple-select\",\n                  value: numOrder,\n                  label: \"NumOrder\",\n                  onChange: handleChangeOrder,\n                  children: orders.map((ele, index) => {\n                    return /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: ele,\n                      children: [\"#\", ele]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 28\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            direction: \"row\",\n            justifyContent: \"flex-end\",\n            alignItems: \"center\",\n            item: true,\n            xs: 10,\n            children: /*#__PURE__*/_jsxDEV(Item, {\n              style: {\n                textAlign: 'left'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  color: '#000000'\n                },\n                children: [\"N\\xFAmero de orden: \", numOrder]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Item, {\n              children: [/*#__PURE__*/_jsxDEV(Div, {\n                children: \"Listado de productos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(TablePay, {\n                products: datos\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(Item, {\n              children: /*#__PURE__*/_jsxDEV(Stack, {\n                direction: \"row\",\n                justifyContent: \"flex-end\",\n                alignItems: \"center\",\n                spacing: 2,\n                m: 3,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  endIcon: /*#__PURE__*/_jsxDEV(PaidIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 26\n                  }, this),\n                  color: \"info\",\n                  onClick: handleMessagePay,\n                  children: \" Pagar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n              style: {\n                width: '100%',\n                textAlign: 'center'\n              },\n              spacing: 6,\n              open: open,\n              autoHideDuration: 4000,\n              onClose: handleClose,\n              children: /*#__PURE__*/_jsxDEV(Alert, {\n                onClose: handleClose,\n                variant: \"filled\",\n                severity: tipoAlert,\n                children: alertMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }, this)\n  );\n}\n\n_s(AutoGrid, \"5IHuAx4kcvVSPC2gmx81d/7pmnU=\");\n\n_c3 = AutoGrid;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Item\");\n$RefreshReg$(_c2, \"Div\");\n$RefreshReg$(_c3, \"AutoGrid\");","map":{"version":3,"sources":["/Users/azcona/Desktop/payment/src/components/App.js"],"names":["React","useState","useCallback","useEffect","styled","Box","Paper","Grid","TablePay","FormPayProducts","Products","axios","InputLabel","MenuItem","FormControl","Select","Alert","Stack","Button","PaidIcon","Snackbar","Container","Item","theme","backgroundColor","palette","mode","typography","body2","padding","spacing","textAlign","color","text","secondary","Div","button","background","paper","AutoGrid","datos","setDatos","products","setProducts","numOrder","setNumOrder","orders","setOrders","flag","setFlag","open","setOpen","alertMessage","setAlertMessage","tipoAlert","setTipoAlert","handleClose","event","reason","handleChangeOrder","target","value","orderFilter","filter","producto","number","items","handleMessagePay","accessToken","apiURL","authAxios","create","baseURL","headers","Authorization","fetchData","request","get","response","ordenes","map","ele","push","objs","forEach","element","element2","err","console","log","flexGrow","index","width"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport { styled } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport Paper from '@mui/material/Paper';\nimport Grid from '@mui/material/Grid';\nimport TablePay from './TablePayment';\nimport FormPayProducts from './FormPay';\nimport { Products } from '../generalRequest/Products';\nimport axios from 'axios';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport Alert from '@mui/material/Alert';\nimport Stack from '@mui/material/Stack';\nimport Button from '@mui/material/Button';\nimport PaidIcon from '@mui/icons-material/Paid';\nimport Snackbar from '@mui/material/Snackbar';\nimport Container from '@mui/material/Container';\n\nconst Item = styled(Paper)(({ theme }) => ({\n  backgroundColor: theme.palette.mode === 'dark' ? '#1A2027' : '#fff',\n  ...theme.typography.body2,\n  padding: theme.spacing(1),\n  textAlign: 'center',\n  color: theme.palette.text.secondary,\n}));\n\nconst Div = styled('div')(({ theme }) => ({\n  ...theme.typography.button,\n  backgroundColor: theme.palette.background.paper,\n  padding: theme.spacing(1),\n}));\n\nexport default function AutoGrid() {\n\n  const [datos, setDatos] = useState([])\n  const [products, setProducts] = useState([])\n  const [numOrder, setNumOrder] = React.useState([])\n  const [orders, setOrders] = React.useState([])\n  const [flag, setFlag] = useState(false)\n\n  const [open, setOpen] = React.useState(false)\n  const [alertMessage, setAlertMessage] = useState('')\n  const [tipoAlert, setTipoAlert] = useState('')\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return\n    }\n    setOpen(false)\n  }\n\n  const handleChangeOrder = (event) => {\n    setNumOrder(event.target.value);\n    let orderFilter = products.filter(producto => producto.number == event.target.value)[0];\n    setDatos(orderFilter.items)\n  };\n\n  const handleMessagePay = (event) => {\n    setAlertMessage('Pago realizado correctamente')\n    setTipoAlert('success')\n    setOpen(true)\n  }\n  \n  const accessToken = 'eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJwUGFINU55VXRxTUkzMDZtajd ZVHdHV3JIZE81cWxmaCIsImlhdCI6MTYyMDY2Mjk4NjIwM30.lhfzSXW9_TC67SdDKyD bMOYiYsKuSk6bG6XDE1wz2OL4Tq0Og9NbLMhb0LUtmrgzfWiTrqAFfnPldd8QzWvgVQ';\n  const apiURL = 'https://eshop-deve.herokuapp.com/api/v2/orders';\n\n    const authAxios = axios.create({\n        baseURL: apiURL,\n        headers: {\n            Authorization: `Bearer ${accessToken}`\n        }\n    })\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                const request = await authAxios.get(`${apiURL}`)\n                if(request && request['data'] && request['data']['orders']) {\n                    let response = request['data']['orders']\n                    setProducts(response)\n                    if(!flag){\n                      let items = []\n                      let ordenes = []\n                      response.map(ele => {\n                        items.push(ele.items)\n                        ordenes.push(ele.number)\n                      })\n                      let objs = []\n                      items.forEach(element => {\n                        element.forEach(element2 => {\n                          objs.push(element2)\n                        });\n                      });\n                      setDatos(objs)\n                      setOrders(ordenes)\n                      setFlag(true)\n                    }\n                }\n            } catch (err) {\n                console.log('err', err)\n            }\n        }\n        fetchData();\n    }, []);\n\n  return (\n    // style={{ background: '#000000' }}\n    <Container maxWidth=\"xl\" style={{ background: '#000000' }}>\n\n    \n    <Box sx={{ flexGrow: 1 }} m={5}>\n      <Grid container spacing={3}>\n        <Grid item xs={12}>\n          <Item>\n            <Div>{\"Agregar producto\"}</Div>\n            <FormPayProducts datos={datos} setDatos={setDatos} />\n          </Item>\n        </Grid>\n\n        <Grid item xs={2}>\n        <Item style={{ textAlign: 'left' }}>\n            <FormControl fullWidth>\n              <InputLabel id=\"demo-simple-select-label\"># Orden</InputLabel>\n              <Select\n                labelId=\"demo-simple-select-label\"\n                id=\"demo-simple-select\"\n                value={numOrder}\n                label=\"NumOrder\"\n                onChange={handleChangeOrder}\n              >\n                {\n                  orders.map((ele, index) => {\n                    return <MenuItem value={ele}>#{ele}</MenuItem>\n                  })\n                }\n              </Select>\n            </FormControl>\n            </Item>\n        </Grid>\n\n        <Grid \n          container\n          direction=\"row\"\n          justifyContent=\"flex-end\"\n          alignItems=\"center\"\n          item xs={10}\n        >\n          <Item style={{ textAlign: 'left' }}>\n            <h3 style={{ color: '#000000' }}>Número de orden: {numOrder}</h3>\n          </Item>\n        </Grid>\n\n        <Grid item xs={12}>\n          <Item>\n            <Div>{\"Listado de productos\"}</Div>\n            <TablePay products={datos} />\n          </Item>\n        </Grid>\n        <Grid item xs={12}>\n          <Item>\n            <Stack\n              direction=\"row\"\n              justifyContent=\"flex-end\"\n              alignItems=\"center\"\n              spacing={2}\n              m={3}\n            >\n              <Button \n                variant=\"contained\" \n                endIcon={<PaidIcon />} \n                color=\"info\" \n                onClick={handleMessagePay}\n              > Pagar\n              </Button>\n            </Stack>\n          </Item>\n          <Snackbar style={{ width: '100%', textAlign:'center' }} spacing={6} open={open} autoHideDuration={4000} onClose={handleClose}>\n            <Alert onClose={handleClose} variant=\"filled\" severity={tipoAlert}>{alertMessage}</Alert>\n          </Snackbar>\n        </Grid>\n      </Grid>\n    </Box>\n\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}